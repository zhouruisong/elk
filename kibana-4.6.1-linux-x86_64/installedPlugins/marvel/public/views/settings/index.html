<div ng-controller="settings" class="settings marvel-view">
  <marvel-cluster-status source="dataSources['cluster_status']"></marvel-cluster-status>
  <div class="marvel-settings container-fluid">
    <form name="settings" ng-submit="save()">
      <div class="row" ng-repeat="(id, metric) in metrics">
        <div class="col-xs-12">
          <div class="row">
            <h4>{{ metric.label }}</h4>
            <p class="description">{{ metric.description }}</p>
          </div>
        </div>
        <div class="row">
          <div class="col-xs-3">
            <div class="form-group">
              <label>Warning Threshold</label>
              <input
                 ng-model="model[id].warning"
                 ng-pattern="/[<>=][\d\.]+/"
                 type="text"
                 class="form-control"
                 placeholder="{{metric.defaults.warning}}">
            </div>
          </div>
          <div class="col-xs-3">
            <div class="form-group">
              <label>Critical Threshold</label>
              <input
                 ng-model="model[id].critical"
                 ng-pattern="/[<>=][\d\.]+/"
                 type="text"
                 class="form-control"
                 placeholder="{{metric.defaults.critical}}">
            </div>
          </div>
          <div class="col-xs-3">
            <div class="form-group">
              <label>Time Period (in <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/common-options.html#time-units" target="_BLANK">time units</a>)</label>
              <input
                ng-model="model[id].interval"
                ng-pattern="/[\d\.]+[yMwdhms]/"
                type="text"
                class="form-control"
                placeholder="{{metric.defaults.interval}}">
            </div>
          </div>
          <div class="col-xs-3">
            <div class="form-group">
              <label>Periods to Match</label>
              <input
                 ng-model="model[id].periods"
                 type="number"
                 class="form-control"
                 placeholder="{{metric.defaults.periods}}">
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <p><button ng-disabled="!settings.$valid || saving" class="btn btn-primary">Save Thresholds</button></p>
      </div>
    </form>
  </div>
</div>
